from scapy.all import *
import os

def send_file(destination, file_path):
    # Lire le contenu du fichier
    with open(file_path, "rb") as f:
        file_content = f.read()

    # DÃ©couper le fichier en morceaux de 60 octets (ou moins)
    chunks = [file_content[i:i+60] for i in range(0, len(file_content), 60)]

    for chunk in chunks:
        packet = IP(dst=destination)/ICMP()/Raw(load=chunk)
        send(packet)

file_path = "/home/kali/Documents/message.txt"
send_file("127.0.0.1", file_path)
