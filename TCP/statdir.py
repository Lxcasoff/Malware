import os

# Chemin du répertoire cible
target_directory = '/home/kali/'

# Fonction pour calculer la taille d'un dossier de manière récursive
def calculate_directory_size(dir_path):
    total_size = 0
    for item in os.listdir(dir_path):
        item_path = os.path.join(dir_path, item)
        if os.path.isfile(item_path):
            total_size += os.stat(item_path).st_size
        elif os.path.isdir(item_path):
            total_size += calculate_directory_size(item_path)
    return total_size

# Parcourir chaque élément dans le répertoire cible
for item in os.listdir(target_directory):
    item_path = os.path.join(target_directory, item)

    if os.path.isfile(item_path):
        # Si l'élément est un fichier, obtenir sa taille
        size = os.stat(item_path).st_size
        print(f"File: {item}, Size: {size} bytes")
    elif os.path.isdir(item_path):
        # Si l'élément est un dossier, calculer sa taille totale de manière récursive
        dir_size = calculate_directory_size(item_path)
        print(f"Directory: {item}, Size: {dir_size} bytes")
